<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charter Invoice</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', Arial, sans-serif;
            background-color: #e0f2f7; /* Lighter blue background */
            margin: 0;
            padding: 0;
            line-height: 1.6;
            color: #333;
        }

        .invoice-container {
            max-width: 900px; /* Slightly wider container */
            margin: 30px auto;
            background-color: white;
            padding: 50px;
            box-shadow: 0 8px 30px rgba(0, 50, 100, 0.15); /* More prominent shadow with blue tint */
            border-radius: 15px; /* More rounded corners */
            overflow: hidden;
            position: relative;
        }

        /* Subtle flight-themed background element */
        .invoice-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(to right, #007bff, #0056b3); /* Blue gradient top border */
            border-radius: 15px 15px 0 0;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 25px;
            border-bottom: 2px solid #e0e0e0; /* Slightly thicker border */
            margin-bottom: 30px;
        }

        header .logo-section img {
            max-height: 100px; /* Slightly larger logo area */
            width: auto;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }

        header .company-info {
            text-align: right;
            color: #2c3e50;
        }

        header .company-info h1 {
            margin: 0 0 8px 0;
            color: #0056b3; /* Darker blue for company name */
            font-size: 2.2em; /* Larger company name */
            letter-spacing: 1px;
        }

        header .company-info p {
            margin: 0;
            font-size: 1em;
            color: #555;
        }

        .invoice-title {
            text-align: center;
            margin-bottom: 40px;
            padding: 15px 0;
            background-color: #f0f8ff; /* Very light blue background for title */
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: relative; /* For SVG positioning */
        }

        .invoice-title h2 {
            margin: 0;
            text-transform: uppercase;
            font-size: 2.8em; /* Larger invoice title */
            color: #007bff; /* Bright blue for title */
            border-bottom: 4px solid #0056b3; /* Darker blue underline */
            display: inline-block;
            padding-bottom: 10px;
            letter-spacing: 2px;
            font-weight: 700;
        }

        .invoice-title p {
            margin-top: 12px;
            font-size: 1.2em;
            color: #666;
            font-weight: 600;
        }

        /* SVG for invoice title */
        .invoice-title .plane-svg {
            position: absolute;
            top: 50%;
            left: 20px;
            transform: translateY(-50%) rotate(45deg);
            width: 40px;
            height: 40px;
            fill: #007bff;
            opacity: 0.7;
        }
        .invoice-title .plane-svg.right {
            left: auto;
            right: 20px;
            transform: translateY(-50%) rotate(-45deg);
        }


        .section-table {
            margin-bottom: 35px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            position: relative; /* For SVG positioning */
        }

        .section-table h3 {
            background-color: #007bff; /* Blue header for sections */
            color: white;
            padding: 15px 20px;
            margin: 0;
            font-size: 1.3em;
            font-weight: 600;
            border-bottom: 1px solid #0056b3;
            position: relative;
            overflow: hidden;
        }

        /* SVG for section headers */
        .section-table h3::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%230056b3" opacity="0.1"/></svg>') repeat;
            opacity: 0.2;
            z-index: 0;
        }

        .section-table h3 span {
            position: relative;
            z-index: 1;
        }

        .section-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .section-table th,
        .section-table td {
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            text-align: left;
            font-size: 1.05em;
        }

        .section-table th {
            background-color: #f8fafd; /* Lighter background for labels */
            color: #444;
            width: 35%; /* Adjust width for labels */
            font-weight: 600;
        }

        .section-table td {
            color: #555;
        }

        .section-table tr:last-child td,
        .section-table tr:last-child th {
            border-bottom: none;
        }

        .item-table {
            margin-bottom: 35px;
        }

        .item-table table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .item-table th,
        .item-table td {
            border: 1px solid #e0e0e0;
            padding: 15px;
            text-align: left;
            vertical-align: top;
        }

        .item-table th {
            background-color: #007bff; /* Blue header for item table */
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.95em;
            letter-spacing: 0.8px;
        }

        .item-table tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .item-table td:last-child,
        .item-table th:last-child {
            text-align: right;
        }

        .totals-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            margin-bottom: 60px; /* Increased spacing */
            background-color: #f0f8ff; /* Light blue background for totals */
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .totals-table td {
            padding: 12px 20px;
            border: none;
            text-align: right;
            font-size: 1.2em;
        }

        .totals-table td:first-child {
            font-weight: 600;
            color: #2c3e50;
            text-align: left;
        }

        .totals-table tr:last-child td {
            font-size: 1.5em; /* Larger grand total */
            font-weight: bold;
            color: #0056b3; /* Darker blue for grand total */
            border-top: 3px solid #007bff; /* Thicker blue border */
            padding-top: 18px;
        }

        .bank-details,
        .terms {
            margin-bottom: 35px;
            padding: 20px 25px;
            background-color: #e6f7ff; /* Lighter blue background for info sections */
            border-radius: 10px;
            border: 1px solid #a0d9ff; /* Blue border */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .bank-details h3,
        .terms h3 {
            margin-top: 0;
            margin-bottom: 15px;
            color: #007bff;
            font-size: 1.6em; /* Larger headings */
            border-bottom: 2px dashed #66b3ff; /* Dashed blue border */
            padding-bottom: 8px;
            font-weight: 600;
        }

        .bank-details p {
            margin: 8px 0;
            font-size: 1em;
            color: #555;
        }

        .terms ul {
            padding-left: 30px;
            margin: 0;
            list-style-type: '✈️ '; /* Flight icon for list items */
            color: #555;
        }

        .terms ul li {
            margin-bottom: 10px;
            font-size: 1em;
            padding-left: 5px; /* Space for the emoji */
        }

        footer {
            text-align: center;
            padding-top: 30px;
            border-top: 2px solid #e0e0e0;
            color: #777;
            font-size: 0.95em;
            margin-top: 40px;
        }

        footer p {
            margin: 8px 0;
        }

        #authorized-signature {
            font-weight: bold;
            margin-bottom: 20px;
            color: #0056b3; /* Darker blue for signature text */
            font-size: 1.1em;
        }

        #ending {
            margin-top: 25px;
            font-style: italic;
            color: #666;
            font-size: 1.1em;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .invoice-container {
                margin: 15px;
                padding: 20px;
            }

            header {
                flex-direction: column;
                text-align: center;
                align-items: center;
            }

            header .company-info {
                text-align: center;
                margin-top: 15px;
            }

            .invoice-title h2 {
                font-size: 2em;
            }

            .section-table th,
            .section-table td,
            .item-table th,
            .item-table td,
            .totals-table td,
            .bank-details p,
            .terms ul li {
                padding: 10px;
                font-size: 0.9em;
            }

            .section-table th {
                width: 40%;
            }

            .totals-table tr:last-child td {
                font-size: 1.3em;
            }

            .bank-details h3,
            .terms h3 {
                font-size: 1.3em;
            }
        }

        @media (max-width: 480px) {
            .invoice-container {
                padding: 15px;
            }

            header .logo-section img {
                max-height: 70px;
            }

            header .company-info h1 {
                font-size: 1.6em;
            }

            .invoice-title h2 {
                font-size: 1.6em;
            }

            .section-table th,
            .section-table td,
            .item-table th,
            .item-table td {
                display: block;
                width: 100%;
                text-align: left !important;
                border-bottom: 1px solid #eee;
            }

            .section-table th {
                font-weight: bold;
                background-color: #f8fafd;
            }

            .item-table th {
                background-color: #007bff;
                color: white;
            }

            .item-table td:last-child {
                text-align: left !important; /* Override right alignment for mobile */
            }

            .totals-table td {
                font-size: 1em;
            }
        }
    </style>
</head>

<body>
    <div class="invoice-container">
        <header>
            <div class="logo-section">
                <!-- Replace with your company logo path -->
                <img src="https://placehold.co/180x100/007bff/ffffff?text=FLY+CHARTER+LOGO" alt="Company Logo">
            </div>
            <div class="company-info">
                <h1>Fly Charter Inc.</h1>
                <p>123 Aviation Drive, Skyville, SV 98765<br>
                    Phone: +1 (555) 123-4567<br>
                    Email: info@flycharter.com<br>
                    GST: 27GST00000XYZ</p>
            </div>
        </header>

        <section class="invoice-title">
            <!-- Left Plane SVG -->
            <svg class="plane-svg" viewBox="0 0 24 24">
                <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9L2 14v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-2.5l8 2.5z"/>
            </svg>
            <h2>QUOTE / CHARTER INVOICE</h2>
            <p>Date: <%= invoice.date %></p>
            <!-- Right Plane SVG -->
            <svg class="plane-svg right" viewBox="0 0 24 24">
                <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9L2 14v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-2.5l8 2.5z"/>
            </svg>
        </section>

        <section class="section-table">
            <h3><span>Customer Details</span></h3>
            <table>
                <tbody>
                    <tr>
                        <th>PNR:</th>
                        <td><%= invoice.pnr %></td>
                    </tr>
                    <tr>
                        <th>Customer Name:</th>
                        <td><%= invoice.customerName %></td>
                    </tr>
                    <tr>
                        <th>Customer Contact:</th>
                        <td><%= invoice.customerContact %></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="section-table">
            <h3><span>Flight & Aircraft Details</span></h3>
            <table>
                <tbody>
                    <tr>
                        <th>Aircraft:</th>
                        <td><%= invoice.aircraft %></td>
                    </tr>
                    <tr>
                        <th>Base Airport:</th>
                        <td><%= invoice.baseAirport %></td>
                    </tr>
                    <tr>
                        <th>Cost per Hour:</th>
                        <td><%= invoice.costPerHour %></td>
                    </tr>
                    <tr>
                        <th>Date of Travel:</th>
                        <td><%= invoice.dateOfTravel %></td>
                    </tr>
                    <tr>
                        <th>Passengers:</th>
                        <td><%= invoice.passengers %></td>
                    </tr>
                    <tr>
                        <th>Block Time:</th>
                        <td><%= invoice.blockTime %></td>
                    </tr>
                    <tr>
                        <th>Departure City:</th>
                        <td><%= invoice.departureCity %></td>
                    </tr>
                    <tr>
                        <th>Destination City:</th>
                        <td><%= invoice.destinationCity %></td>
                    </tr>
                    <tr>
                        <th>Flight Type:</th>
                        <td><%= invoice.flightType %></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <% if (invoice.corporateDetails) { %>
        <section class="section-table">
            <h3><span>Corporate Details</span></h3>
            <table>
                <tbody>
                    <tr>
                        <th>Company Name:</th>
                        <td><%= invoice.corporateDetails.companyName %></td>
                    </tr>
                </tbody>
            </table>
        </section>
        <% } %>

        <section class="item-table">
            <table>
                <thead>
                    <tr>
                        <th>Item Description</th>
                        <th>Block Time (Hrs)</th>
                        <th>Rate (per Hr)</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Aircraft Hourly Cost (<%= invoice.baseAirport %> - <%= invoice.departureCity %> - <%= invoice.destinationCity %>) (<%= invoice.flightType %>)</td>
                        <td><%= invoice.hourlyCostItem.blockTime %></td>
                        <td><%= invoice.hourlyCostItem.rate %></td>
                        <td><%= invoice.hourlyCostItem.total %></td>
                    </tr>
                    <tr>
                        <td>Handling Fees</td>
                        <td>-</td>
                        <td><%= invoice.handlingFeesItem.rate %></td>
                        <td><%= invoice.handlingFeesItem.total %></td>
                    </tr>
                    <% if (invoice.additionalItems && invoice.additionalItems.length > 0) { %>
                        <% invoice.additionalItems.forEach(function(item) { %>
                            <tr>
                                <td><%= item.description %></td>
                                <td><%= item.blockTime || '-' %></td>
                                <td><%= item.rate || '-' %></td>
                                <td><%= item.total %></td>
                            </tr>
                        <% }); %>
                    <% } %>
                </tbody>
            </table>
        </section>

       <% if (invoice.addons && (invoice.addons.foodServices || invoice.addons.transportFacility || invoice.addons.partyAddons || invoice.addons.petAddons)) { %>
        <section class="section-table">
            <h3><span>Add-on Services</span></h3>
            <table>
                <tbody>
                    <% if (invoice.addons.foodServices && invoice.addons.foodServices.amount) { %>
                    <tr>
                        <th>Food Services:</th>
                        <td><%= invoice.addons.foodServices.description %></td>
                        <td><%= invoice.addons.foodServices.amount %></td>
                    </tr>
                    <% } else { %>
                    <tr>
                        <th>Food Services:</th>
                        <td colspan="2">No Food Services selected.</td>
                    </tr>
                    <% } %>
                    <% if (invoice.addons.transportFacility && invoice.addons.transportFacility.amount) { %>
                    <tr>
                        <th>Transport Facility:</th>
                        <td><%= invoice.addons.transportFacility.description %></td>
                        <td><%= invoice.addons.transportFacility.amount %></td>
                    </tr>
                    <% } %>
                    <% if (invoice.addons.partyAddons && invoice.addons.partyAddons.amount) { %>
                    <tr>
                        <th>Party Add-ons:</th>
                        <td><%= invoice.addons.partyAddons.description %></td>
                        <td><%= invoice.addons.partyAddons.amount %></td>
                    </tr>
                    <% } %>
                    <% if (invoice.addons.petAddons && invoice.addons.petAddons.amount) { %>
                    <tr>
                        <th>Pet Add-ons:</th>
                        <td><%= invoice.addons.petAddons.description %></td>
                        <td><%= invoice.addons.petAddons.amount %></td>
                    </tr>
                    <% } else { %>
                    <tr>
                        <th>Pet Add-ons:</th>
                        <td colspan="2">No Pet Add-ons selected.</td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
        </section>
        <% } %>

        <% if (invoice.crewCharges && (invoice.crewCharges.pilotFee || invoice.crewCharges.airHostessFee || invoice.crewCharges.otherCrewCharges)) { %>
        <section class="section-table">
            <h3><span>Crew Charges</span></h3>
            <table>
                <tbody>
                    <% if (invoice.crewCharges.pilotFee && invoice.crewCharges.pilotFee.amount) { %>
                    <tr>
                        <th>Pilot Fee:</th>
                        <td><%= invoice.crewCharges.pilotFee.description %></td>
                        <td><%= invoice.crewCharges.pilotFee.amount %></td>
                    </tr>
                    <% } %>
                    <% if (invoice.crewCharges.airHostessFee && invoice.crewCharges.airHostessFee.amount) { %>
                    <tr>
                        <th>Air Hostess Fee:</th>
                        <td><%= invoice.crewCharges.airHostessFee.description %></td>
                        <td><%= invoice.crewCharges.airHostessFee.amount %></td>
                    </tr>
                    <% } %>
                    <% if (invoice.crewCharges.otherCrewCharges && invoice.crewCharges.otherCrewCharges.amount) { %>
                    <tr>
                        <th>Other Crew Charges:</th>
                        <td><%= invoice.crewCharges.otherCrewCharges.description %></td>
                        <td><%= invoice.crewCharges.otherCrewCharges.amount %></td>
                    </tr>
                    <% } %>
                    <% if (!invoice.crewCharges.pilotFee && !invoice.crewCharges.airHostessFee && !invoice.crewCharges.otherCrewCharges) { %>
                    <tr>
                        <td colspan="3">No specific crew charges listed.</td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
        </section>
        <% } %>

        <table class="totals-table">
            <tbody>
                <tr>
                    <td><strong>Subtotal</strong></td>
                    <td><%= invoice.subtotal %></td>
                </tr>
                <tr>
                    <td><strong>GST (18%)</strong></td>
                    <td><%= invoice.gstAmount %></td>
                </tr>
                <tr>
                    <td><strong>Grand Total</strong></td>
                    <td><%= invoice.grandTotal %></td>
                </tr>
            </tbody>
        </table>

        <section class="bank-details">
            <h3>Payment Details:</h3>
            <p>
                Currency: <%= invoice.curr %><br>
                Payment Method:<%= invoice.pay_method %> <br>
            </p>
        </section>

        <section class="terms">
            <h3>Terms & Conditions</h3>
            <ul>
                <li>This quote is valid for 30 days from the issue date.</li>
                <li>Full payment is required before departure.</li>
                <li>Cancellation charges may apply as per company policy.</li>
                <li>Aircraft availability is subject to change without notice.</li>
                <li>All prices are subject to change based on fuel surcharges and unforeseen operational costs.</li>
                <li>Additional services (add-ons) are subject to availability and may incur extra charges.</li>
            </ul>
        </section>

        <footer>
            <p id="authorized-signature">Authorized Signature</p>
            <p id="ending">Thank you for choosing our services!</p>
            <p>___________________________________</p>
            <p>Fly Charter Inc.</p>
        </footer>
    </div>
</body>

</html>
